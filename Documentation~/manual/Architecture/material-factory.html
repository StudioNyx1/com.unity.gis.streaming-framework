<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');</script>
    <script type="text/javascript">thisPackageMetaData = { name: "com.unity.gis.streaming-framework", version: "1.0.0", displayTitle:"Unity Geospatial Streaming 1.0.0", lang: "en" };</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
  
    <title>Material Factory | Unity Geospatial Streaming | 1.0.0 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Material Factory | Unity Geospatial Streaming | 1.0.0 ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/statictoc.docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    <meta property="unity:packageTitle" content="Unity Geospatial Streaming | 1.0.0">
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
                <div class="back-to-unity-group">
                  <a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li class="active">
                          <a href="../../manual/index.html" title="Manual">Manual</a>
                      </li>
                      <li class="">
                          <a href="../../api/index.html" title="Scripting API">Scripting API</a>
                      </li>
                      <li class="">
                          <a href="../../changelog/CHANGELOG.html" title="Changelog">Changelog</a>
                      </li>
                      <li class="">
                          <a href="../../license/LICENSE.html" title="License">License</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle"></a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../index.html" title="GIS Streaming Framework" class="">GIS Streaming Framework</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../index.html" title="Getting Started" class="">Getting Started</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../GettingStarted/first-time-setup.html" title="First Time Setup" class="">First Time Setup</a>
                                </li>
                                <li class="">
                                  <a href="../GettingStarted/frequently-asked.html" title="Frequently Asked Questions" class="">Frequently Asked Questions</a>
                                </li>
                                <li class="">
                                  <a href="../GettingStarted/known-limitations.html" title="Known Limitations" class="">Known Limitations</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../index.html" title="Dataset Formats" class="">Dataset Formats</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../FileFormats/ogc-3d-tiles.html" title="OGC 3D Tiles" class="">OGC 3D Tiles</a>
                                </li>
                                <li class="">
                                  <a href="../FileFormats/tms.html" title="Terrain Management System" class="">Terrain Management System</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../index.html" title="Internal Architecture" class="">Internal Architecture</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../Architecture/universal-decoder.html" title="Universal Decoder" class="">Universal Decoder</a>
                                </li>
                                <li class="active">
                                  <a href="../Architecture/material-factory.html" title="Material Factory" class="active">Material Factory</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="material-factory">Material Factory</h1>

<p>The material factory allows the UG System to take function with any render pipeline, provided that
the appropriate material factory has been created and has been assigned.</p>
<p>The Unity Geospatial Framework comes with material factories for both the Built-in render pipeline,
the High Definition Render Pipeline as well as the Universal Render Pipeline.</p>
<p><br><br>
<img src="../images/Architecture/MaterialFactory/SystemMaterialFactory.png" alt="SystemMaterialFactory"></p>
<p><br><br></p>
<h2 id="create-a-material-factory">Create A Material Factory</h2>
<h3 id="new-material-factory">New Material Factory</h3>
<p>First, in your Asset directory, create a new Material Factory Object by right clicking in a and selecting
<strong>Create &gt; Geospatial &gt; Rendering &gt; Simple Material Factory</strong>.</p>
<p><br><br>
<img src="../images/Architecture/MaterialFactory/SimpleMaterialFactoryEmpty.png" alt="SimpleMaterialFactory Empty"></p>
<p><br><br>
Now add a new element by clicking the <strong>+</strong> sign.
We must create an element for each Material combination that we will use.</p>
<ul>
<li>The Lighting value defines if the selected material receives light contribution.</li>
<li>The Alpha Mode defines how the selected material manage shaders with transparency values.</li>
<li>The Material is the base material that will be applied to instances that requires the selected lighting and alpha mode.</li>
<li>The Property Object is the selected material mapping for each property type (albedo, texture, smoothness, alpha).</li>
</ul>
<p>For our example, create a new Material based on HDRP/Lit. Set the lighting to <strong>Lit</strong>, 
the alpha to <strong>Opaque</strong> and the material to our newly created HDRP Material. Leave the Property Object
as is for the moment.</p>
<p><br><br>
<img src="../images/Architecture/MaterialFactory/SimpleMaterialFactoryValues.png" alt="SimpleMaterialFactory"></p>
<p><br><br></p>
<h3 id="new-shader-properties">New Shader Properties</h3>
<p>In your Asset directory, create a new Shader Properties Object by right clicking in a directory and selecting
<strong>Create &gt; Geospatial &gt; Rendering &gt; Shader Properties</strong>.</p>
<p>This new properties list allow to map property types to material properties. For example, if we specify the 
property type to be <strong>Albedo Color</strong> and we set the name to <strong>_BaseColor</strong>, each time a dataset needs to 
set the color to the material albedo channel, it will set its value to the _BaseColor property of the assigned material.</p>
<p>We then return to our created Material Factory Object and we set the property object to our newly created
Shader Properties Object. We now have a functional Material Factory that we can assign to a System. Still,
if we would want to support transparency, unlit materials, textures and smoothness, we would need to
create new material factory elements and the corresponding shader properties.</p>
<p><br><br>
<img src="../images/Architecture/MaterialFactory/ShaderProperties.png" alt="ShaderProperties"></p>
<p><br><br></p>
<h2 id="use-the-deferred-material-factory">Use the Deferred Material Factory</h2>
<p>Using the <a href="material-factory.html#create-a-material-factory">Simple Material Factory</a> allows to customize
how to instantiate the materials independently to the instance. But if you want to create a shader based
on the instance attributes (color by height or an other metadata field for example), you would need
to use the Deferred Material Factory instead and implement your own material instantiation via
a custom <code>UGSystem</code>. </p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
